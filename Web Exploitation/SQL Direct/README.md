# SQL Direct

## Description

Connect to this PostgreSQL server and find the flag! 

Hint 1: What does a SQL database contain?

## Approach

We are provided with a challenge instance. This challenge will involve SQL queries. Let's connect to the server: `psql -h saturn.picoctf.net -p 55453 -U postgres pico`; Password is `postgres`

The desired flag is hidden somewhere in the database tables. We can use the `SELECT` query to retrieve the flag. `\l+` will list all databases.

```
                                                                   List of databases
   Name    |  Owner   | Encoding |  Collate   |   Ctype    |   Access privileges   |  Size   | Tablespace |                Description                 
-----------+----------+----------+------------+------------+-----------------------+---------+------------+--------------------------------------------
 pico      | postgres | UTF8     | en_US.utf8 | en_US.utf8 |                       | 8593 kB | pg_default | 
 postgres  | postgres | UTF8     | en_US.utf8 | en_US.utf8 |                       | 8553 kB | pg_default | default administrative connection database
 template0 | postgres | UTF8     | en_US.utf8 | en_US.utf8 | =c/postgres          +| 8401 kB | pg_default | unmodifiable empty database
           |          |          |            |            | postgres=CTc/postgres |         |            | 
 template1 | postgres | UTF8     | en_US.utf8 | en_US.utf8 | =c/postgres          +| 8401 kB | pg_default | default template for new databases
           |          |          |            |            | postgres=CTc/postgres |         |            | 
(4 rows)
```
Obviously, the "pico" database is of interest. We can connect to this by doing `\c pico`. `\dt` will list all tables.
```
         List of relations
 Schema | Name  | Type  |  Owner   
--------+-------+-------+----------
 public | flags | table | postgres
(1 row)
```
Finally, we can retrieve the data from the table with `select * from flags;`:
```
 id | firstname | lastname  |                address                 
----+-----------+-----------+----------------------------------------
  1 | Luke      | Skywalker | picoCTF{L3arN_S0m3_5qL_t0d4Y_73b0678f}
  2 | Leia      | Organa    | Alderaan
  3 | Han       | Solo      | Corellia
(3 rows)
```
Thus, the flag is: picoCTF{L3arN_S0m3_5qL_t0d4Y_73b0678f}
